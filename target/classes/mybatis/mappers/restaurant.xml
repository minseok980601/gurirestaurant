<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="mapper.restaurant">
	<resultMap type="restaurantDTO" id="rtResult">
		<result property="gr_num" column="gr_num"/>
		<result property="business_name" column="business_name"/>
		<result property="location" column="location"/>
		<result property="location_tel" column="location_tel"/>
		<result property="gr_img" column="gr_img"/>
		<result property="latitude" column="latitude"/>
		<result property="longitude" column="longitude"/>
		<result property="heart" column="heart"/>
	</resultMap>
	
	<select id="listrestaurant" resultType="restaurantDTO">
		<![CDATA[
			SELECT *
			FROM GURI_RESTAURANT
		]]>
	</select>
	
	<select id="showrestaurant" resultType="restaurantDTO">
		<![CDATA[
			SELECT BUSINESS_NAME, LOCATION, LOCATION_TEL, GR_IMG, LATITUDE, LONGITUDE , GR_NUM, HEART
			FROM GURI_RESTAURANT
			WHERE GR_NUM = #{gr_num}
		]]>
	</select>
	
	<update id="restaurantUpHeart" parameterType="int">
		<![CDATA[
			UPDATE GURI_RESTAURANT 
			SET HEART = HEART + 1
			WHERE GR_NUM = #{gr_num}
		]]>
	</update>
	 
</mapper>